<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="../image/icon/dragon-box.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="大滑稽Comical的主页，用于收藏各种工具与网页，以及B站视频中提到的资源">
    <title>滑稽收藏站——网页应用</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/web.css">
</head>
<body>

    <!-- 返回主页 -->
    <a href="../index.html" >
        <img src="../image/icon/diamond_pickaxe-225.png" alt="返回主页" style="width: 5vw; margin-top: 2vw; margin-left: 2vw;">
    </a>

    <!-- 第一项 -->
    <div class=".container lazy-load" id="container">
        <div style="display: flex; position: relative;" class="content">
            <a href="./unlock-music-modern/index.html" class="left25">
                <img src="./image/button/unlock-music.png" alt="UnlockMusic" style="width: 15vw;">
            </a>
            <p class="description">音乐解锁:在浏览器中解锁加密的音乐文件，支持网易云音乐(ncm)，QQ音乐(qmc, mflac, mgg)，酷狗音乐(kgm)，虾米音乐(xm)，酷我音乐(.kwm)等
                <br>如需大批量解锁，请考虑应用程序收集页面中的Unloc-kMusic-CLI</a>
            </p>
        </div>
    </div>

    <!-- 自动div行高 -->
    <script>
        function adjustheight() {
            var container = document.getElementById('container');
            var content = document.querySelector('.content');
            if (content) {
                var contentheight = content.scrollHeight
                var padding = 20
                container.style.height = (content.scrollHeight + padding * 2) + 'px'
            }
        }

        adjustheight();

        window.addEventListener('resize', adjustheight);
    </script>
    <script>
        function checkVisibility() {
        var lazyLoadEls = document.querySelectorAll('.lazy-load');
        lazyLoadEls.forEach(function(el) {
            var rect = el.getBoundingClientRect();
            if (rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)) {
            el.style.display = 'block';
            el.style.opacity = '1';
            }
        });
        }

        // 监听页面滚动事件
        window.addEventListener('scroll', checkVisibility);

        // 初次加载页面时也检查一次
        checkVisibility();

        let lazyLoadEls = document.querySelectorAll('.lazy-load');

        let observer = new IntersectionObserver(function(entries, observer) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
            let lazyLoadEl = entry.target;
            lazyLoadEl.style.display = 'block';
            lazyLoadEl.style.opacity = '1';
            observer.unobserve(lazyLoadEl);
            }
        });
        }, {
        root: null, // 使用浏览器视窗作为视窗
        threshold: 0.1 // 10%的元素可见时触发
        });

        lazyLoadEls.forEach(function(el) {
        observer.observe(el);
        });
    </script>
</body>
</html>